import{c as O,a as C,ag as q,ah as A,d as I,u as H,g as L,ai as Y,h as k,aj as Q,ak as X,i as Z,al as ee,l as x,am as te,T as se,a2 as ne,A as ae,O as ie,a1 as M,r as w,B as z,C as R,J as e,Q as r,S as n,D as t,N as U,W as c,ab as g,ac as y,R as oe,_,an as le,I as re,a8 as ce,ao as de,P as S,ap as ue,$ as pe,F as j,aq as me,w as fe,ar as ve,as as he,at as ge,au as ye,av as P,U as be,aw as xe,ax as ke}from"./index-6c0a2e57.js";const _e=O([O("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),C("spin-container",{position:"relative"},[C("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[q()])]),C("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),C("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[A("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),C("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),C("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[A("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),we={small:20,medium:18,large:16},$e=Object.assign(Object.assign({},L.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),Ce=I({name:"Spin",props:$e,setup(m){const{mergedClsPrefixRef:l,inlineThemeDisabled:a}=H(m),d=L("Spin","-spin",_e,Y,m,l),o=k(()=>{const{size:s}=m,{common:{cubicBezierEaseInOut:p},self:h}=d.value,{opacitySpinning:b,color:B,textColor:V}=h,K=typeof s=="number"?Q(s):h[X("size",s)];return{"--n-bezier":p,"--n-opacity-spinning":b,"--n-size":K,"--n-color":B,"--n-text-color":V}}),u=a?Z("spin",k(()=>{const{size:s}=m;return typeof s=="number"?String(s):s[0]}),o,m):void 0;return{mergedClsPrefix:l,compitableShow:ee(m,["spinning","show"]),mergedStrokeWidth:k(()=>{const{strokeWidth:s}=m;if(s!==void 0)return s;const{size:p}=m;return we[typeof p=="number"?"medium":p]}),cssVars:a?void 0:o,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var m,l;const{$slots:a,mergedClsPrefix:d,description:o}=this,u=a.icon&&this.rotate,s=(o||a.description)&&x("div",{class:`${d}-spin-description`},o||((m=a.description)===null||m===void 0?void 0:m.call(a))),p=a.icon?x("div",{class:[`${d}-spin-body`,this.themeClass]},x("div",{class:[`${d}-spin`,u&&`${d}-spin--rotate`],style:a.default?"":this.cssVars},a.icon()),s):x("div",{class:[`${d}-spin-body`,this.themeClass]},x(te,{clsPrefix:d,style:a.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${d}-spin`}),s);return(l=this.onRender)===null||l===void 0||l.call(this),a.default?x("div",{class:[`${d}-spin-container`,this.themeClass],style:this.cssVars},x("div",{class:[`${d}-spin-content`,this.compitableShow&&`${d}-spin-content--spinning`]},a),x(se,{name:"fade-in-transition"},{default:()=>this.compitableShow?p:null})):p}});function Se(){const m=new Date,l=m.getDate(),a=m.getMonth()+1;return`${m.getFullYear()}-${a}-${l}`}const ze={class:"p-4 space-y-5 min-h-[200px]"},Ne={class:"space-y-6"},Ie={class:"flex items-center space-x-4"},Te={class:"flex-shrink-0 w-[100px]"},Ue={class:"flex-1"},Be={class:"flex items-center space-x-4"},Ve={class:"flex-shrink-0 w-[100px]"},Ke={class:"w-[200px]"},De={class:"flex items-center space-x-4"},Pe={class:"flex-shrink-0 w-[100px]"},Re={class:"flex-1"},je={class:"flex-shrink-0 w-[100px]"},Oe={class:"flex flex-wrap items-center gap-4"},Ae={class:"flex items-center space-x-4"},Le={class:"flex-shrink-0 w-[100px]"},Me={class:"flex flex-wrap items-center gap-4"},We={class:"flex items-center space-x-4"},Ee={class:"flex-shrink-0 w-[100px]"},Ge={class:"flex flex-wrap items-center gap-4"},Fe={class:"flex items-center space-x-4"},Je={class:"flex-shrink-0 w-[100px]"},qe=I({__name:"General",setup(m){const l=ne(),a=ae(),{isMobile:d}=ie(),o=M(),u=k(()=>l.theme),s=k(()=>a.userInfo),p=w(s.value.avatar??""),h=w(s.value.name??""),b=w(s.value.description??""),B=k({get(){return l.language},set(i){l.setLanguage(i)}}),V=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],K=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function D(i){a.updateUserInfo(i),o.success(S("common.success"))}function W(){a.resetUserInfo(),o.success(S("common.success")),window.location.reload()}function E(){const i=Se(),f=localStorage.getItem("chatStorage")||"{}",v=JSON.stringify(JSON.parse(f),null,2),$=new Blob([v],{type:"application/json"}),T=URL.createObjectURL($),N=document.createElement("a");N.href=T,N.download=`chat-store_${i}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N)}function G(i){const f=i.target;if(!f||!f.files)return;const v=f.files[0];if(!v)return;const $=new FileReader;$.onload=()=>{try{const T=JSON.parse($.result);localStorage.setItem("chatStorage",JSON.stringify(T)),o.success(S("common.success")),location.reload()}catch{o.error(S("common.invalidFileFormat"))}},$.readAsText(v)}function F(){localStorage.removeItem("chatStorage"),location.reload()}function J(){const i=document.getElementById("fileInput");i&&i.click()}return(i,f)=>(z(),R("div",ze,[e("div",Ne,[e("div",Ie,[e("span",Te,r(i.$t("setting.avatarLink")),1),e("div",Ue,[n(t(U),{value:p.value,"onUpdate:value":f[0]||(f[0]=v=>p.value=v),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:f[1]||(f[1]=v=>D({avatar:p.value}))},{default:c(()=>[g(r(i.$t("common.save")),1)]),_:1})]),e("div",Be,[e("span",Ve,r(i.$t("setting.name")),1),e("div",Ke,[n(t(U),{value:h.value,"onUpdate:value":f[2]||(f[2]=v=>h.value=v),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:f[3]||(f[3]=v=>D({name:h.value}))},{default:c(()=>[g(r(i.$t("common.save")),1)]),_:1})]),e("div",De,[e("span",Pe,r(i.$t("setting.description")),1),e("div",Re,[n(t(U),{value:b.value,"onUpdate:value":f[4]||(f[4]=v=>b.value=v),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:f[5]||(f[5]=v=>D({description:b.value}))},{default:c(()=>[g(r(i.$t("common.save")),1)]),_:1})]),e("div",{class:oe(["flex items-center space-x-4",t(d)&&"items-start"])},[e("span",je,r(i.$t("setting.chatHistory")),1),e("div",Oe,[n(t(y),{size:"small",onClick:E},{icon:c(()=>[n(t(_),{icon:"ri:download-2-fill"})]),default:c(()=>[g(" "+r(i.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:G},null,32),n(t(y),{size:"small",onClick:J},{icon:c(()=>[n(t(_),{icon:"ri:upload-2-fill"})]),default:c(()=>[g(" "+r(i.$t("common.import")),1)]),_:1}),n(t(le),{placement:"bottom",onPositiveClick:F},{trigger:c(()=>[n(t(y),{size:"small"},{icon:c(()=>[n(t(_),{icon:"ri:close-circle-line"})]),default:c(()=>[g(" "+r(i.$t("common.clear")),1)]),_:1})]),default:c(()=>[g(" "+r(i.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",Ae,[e("span",Le,r(i.$t("setting.theme")),1),e("div",Me,[(z(),R(re,null,ce(V,v=>n(t(y),{key:v.key,size:"small",type:v.key===t(u)?"primary":void 0,onClick:$=>t(l).setTheme(v.key)},{icon:c(()=>[n(t(_),{icon:v.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",We,[e("span",Ee,r(i.$t("setting.language")),1),e("div",Ge,[n(t(de),{style:{width:"140px"},value:t(B),options:K,onUpdateValue:f[6]||(f[6]=v=>t(l).setLanguage(v))},null,8,["value"])])]),e("div",Fe,[e("span",Je,r(i.$t("setting.resetUserInfo")),1),n(t(y),{size:"small",onClick:W},{default:c(()=>[g(r(i.$t("common.reset")),1)]),_:1})])])]))}}),He={class:"p-4 space-y-5 min-h-[200px]"},Ye={class:"space-y-6"},Qe={class:"flex items-center space-x-4"},Xe={class:"flex-shrink-0 w-[100px]"},Ze={class:"flex-1"},et={class:"flex items-center space-x-4"},tt=e("span",{class:"flex-shrink-0 w-[100px]"}," ",-1),st=I({__name:"Advanced",setup(m){const l=ue(),a=M(),d=w(l.systemMessage??"");function o(s){l.updateSetting(s),a.success(S("common.success"))}function u(){l.resetSetting(),a.success(S("common.success")),window.location.reload()}return(s,p)=>(z(),R("div",He,[e("div",Ye,[e("div",Qe,[e("span",Xe,r(s.$t("setting.role")),1),e("div",Ze,[n(t(U),{value:d.value,"onUpdate:value":p[0]||(p[0]=h=>d.value=h),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:p[1]||(p[1]=h=>o({systemMessage:d.value}))},{default:c(()=>[g(r(s.$t("common.save")),1)]),_:1})]),e("div",et,[tt,n(t(y),{size:"small",onClick:u},{default:c(()=>[g(r(s.$t("common.reset")),1)]),_:1})])])]))}}),nt="chatgpt-web",at="2.10.8",it="ChatGPT Web",ot="ChenZhaoYu <chenzhaoyu1994@gmail.com>",lt=["chatgpt-web","chatgpt","chatbot","vue"],rt={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},ct={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",sqlite:"^4.1.2",sqlite3:"^5.1.6",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},dt={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},ut={name:nt,version:at,private:!1,description:it,author:ot,keywords:lt,scripts:rt,dependencies:ct,devDependencies:dt,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},pt={class:"text-xl font-bold"},mt={class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},ft={data(){return{Key:window.localStorage.apiKey,inputValue:window.localStorage.apiKey}},methods:{updateKey(){localStorage.apiKey=this.inputValue,this.Key=this.inputValue}}},vt=I({...ft,__name:"About",setup(m){const l=w(!1),a=w();async function d(){try{l.value=!0;const{data:o}=await he();a.value=o}finally{l.value=!1}}return pe(()=>{d()}),(o,u)=>(z(),j(t(Ce),{show:l.value},{default:c(()=>[e("div",{class:"p-4 space-y-4",onKeyup:u[2]||(u[2]=me((...s)=>o.updateKey&&o.updateKey(...s),["enter"]))},[e("h2",pt," Version - "+r(t(ut).version),1),e("div",mt,[fe(e("input",{"onUpdate:modelValue":u[0]||(u[0]=s=>o.inputValue=s),placeholder:"请输入您的密钥",class:"input-box w-60",style:{padding:"10px","border-radius":"5px",border:"1px solid #ccc"}},null,512),[[ve,o.inputValue]]),e("button",{class:"submit-btn w-13 h-11",style:{"margin-left":"10px","background-color":"#fff",color:"#ccc",border:"1px solid #ccc","border-radius":"5px",padding:"10px"},onClick:u[1]||(u[1]=(...s)=>o.updateKey&&o.updateKey(...s))}," 提交 ")]),e("div",null,[e("p",null,r(o.$t("setting.api"))+"："+r(o.Key),1)])],32)]),_:1},8,["show"]))}}),ht={class:"ml-2"},gt={class:"min-h-[100px]"},yt={class:"ml-2"},bt={class:"min-h-[100px]"},xt={class:"ml-2"},_t=I({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(m,{emit:l}){const a=m,d=ge(),o=k(()=>!!d.isChatGPTAPI),u=w("General"),s=k({get(){return a.visible},set(p){l("update:visible",p)}});return(p,h)=>(z(),j(t(ke),{show:t(s),"onUpdate:show":h[1]||(h[1]=b=>xe(s)?s.value=b:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:c(()=>[e("div",null,[n(t(ye),{value:u.value,"onUpdate:value":h[0]||(h[0]=b=>u.value=b),type:"line",animated:""},{default:c(()=>[n(t(P),{name:"General",tab:"General"},{tab:c(()=>[n(t(_),{class:"text-lg",icon:"ri:file-user-line"}),e("span",ht,r(p.$t("setting.general")),1)]),default:c(()=>[e("div",gt,[n(qe)])]),_:1}),t(o)?(z(),j(t(P),{key:0,name:"Advanced",tab:"Advanced"},{tab:c(()=>[n(t(_),{class:"text-lg",icon:"ri:equalizer-line"}),e("span",yt,r(p.$t("setting.advanced")),1)]),default:c(()=>[e("div",bt,[n(st)])]),_:1})):be("",!0),n(t(P),{name:"Config",tab:"Config"},{tab:c(()=>[n(t(_),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",xt,r(p.$t("setting.config")),1)]),default:c(()=>[n(vt)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{_t as default};
